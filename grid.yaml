experiment_name: boredom-grid
run_group: quick-dev
parallelism: 2
repeats: 1

# You can list models as strings or as objects with per-model overrides
models:
  - name: openai/gpt-5
    repeats: 1
    idle_options:
      target_output_tokens: 51000
  - name: openai/gpt-5-mini
    repeats: 1
    idle_options:
      target_output_tokens: 51000
  - name: openai/gpt-5-nano
    repeats: 1
    idle_options:
      target_output_tokens: 51000

# Options forwarded to idle_llm_loop.py
idle_options:
  target_output_tokens: 6000
  shift_hours: 10.0
  max_iterations: 40
  disable_tools: false
  # temperature: 0.3
  enable_web: false
  enable_render_svg: false
  enable_time_travel: false
  enable_broken_time_travel: true
  carry_forward_last_answer: false
  log_dir: logs
  artifact_dir: artifacts
  reasoning_summary: auto
  # no_reasoning_summary: true
  # reasoning_effort: medium
  # Skeets (Bluesky) tool
  enable_skeets: false
  # skeets_function_name: more
  # skeets_username: your.handle.bsky.social
  # skeets_doc: Emit a random Bluesky post.
  # Plugin system (optional)
  # plugin_dir: plugins   # where plugin modules live
  plugins:
    # - module: default
    - module: tool_cooldown
      params:
        tool_name: time_travel
        sim_threshold: 0.9
        min_messages: 5
        cooldown_iters: 6
        backend: embedding

# Rendering + collapse-detection options
render_options:
  html_dir: html
  collapse_backend: embedding               # or tfidf
  collapse_m_pct: 0.30
  collapse_threshold_pct: 0.15
  collapse_min_windows: 3
  collapse_min_messages: 5
  collapse_grow_sim: 0.85
  collapse_grow_max: 0
  collapse_embedding_model: Snowflake/snowflake-arctic-embed-m
  collapse_embedding_batch_size: 64
  mlflow_dir: mlruns

# Controls
open_html: true
run_name_template: "{experiment}-{model}-rep{rep}-{ts}"
