experiment_name: boredom-grid
run_group: quick-dev
parallelism: 2
repeats: 1

# You can list models as strings or as objects with per-model overrides
models:
  - name: anthropic/claude-opus-4-0
    repeats: 2
    idle_options:
      target_output_tokens: 40000
  - name: anthropic/claude-opus-4-1
    repeats: 2
    idle_options:
      target_output_tokens: 40000
  - name: openai/gpt-4o
    repeats: 2
    idle_options:
      target_output_tokens: 40000
  - name: together_ai/deepseek-ai/DeepSeek-R1-0528
    repeats: 2
    idle_options:
      target_output_tokens: 30000
  - name: together_ai/Qwen/Qwen3-Next-80B-A3B-Thinking
    repeats: 1
    idle_options:
      target_output_tokens: 50000
  - name: together_ai/Qwen/Qwen3-Next-80B-A3B-Instruct
    repeats: 1
    idle_options:
      target_output_tokens: 50000
  - name: together_ai/openai/gpt-oss-120b
    repeats: 2
    idle_options:
      target_output_tokens: 50000

# Options forwarded to idle_llm_loop.py
idle_options:
  target_output_tokens: 6000
  shift_hours: 1.0
  max_iterations: 40
  disable_tools: false
  # temperature: 0.3
  enable_web: true
  enable_render_svg: true
  enable_time_travel: false
  log_dir: logs
  artifact_dir: artifacts
  reasoning_summary: auto
  # no_reasoning_summary: true
  # reasoning_effort: medium

# Rendering + collapse-detection options
render_options:
  html_dir: html
  collapse_backend: embedding               # or tfidf
  collapse_m_pct: 0.30
  collapse_threshold_pct: 0.15
  collapse_min_windows: 3
  collapse_min_messages: 5
  collapse_grow_sim: 0.85
  collapse_grow_max: 0
  collapse_embedding_model: Snowflake/snowflake-arctic-embed-m
  collapse_embedding_batch_size: 64
  mlflow_dir: mlruns

# Controls
open_html: false
run_name_template: "{experiment}-{model}-rep{rep}-{ts}"
